"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1450],{28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>l});var n=i(96540);const s={},r=n.createContext(s);function o(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:t},e.children)}},58406:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"UNO-R4-Starter-Kit/Photocell","title":"23. Photocell","description":"Photocells, also known as photoresistors or light-dependent resistors (LDRs), are simple yet powerful components that can detect changes in light intensity. These components are commonly used in various applications such as automatic lighting systems, light-sensitive alarms, and other projects where light detection is essential.","source":"@site/docs/UNO-R4-Starter-Kit/Photocell.md","sourceDirName":"UNO-R4-Starter-Kit","slug":"/UNO-R4-Starter-Kit/Photocell","permalink":"/UNO-R4-Starter-Kit/Photocell","draft":false,"unlisted":false,"editUrl":"https://github.com/carobot/learn.carobot.ca/tree/main/docs/UNO-R4-Starter-Kit/Photocell.md","tags":[],"version":"current","sidebarPosition":23,"frontMatter":{"sidebar_position":23},"sidebar":"tutorialSidebar","previous":{"title":"22. The Serial Monitor","permalink":"/UNO-R4-Starter-Kit/Serial-Monitor"},"next":{"title":"24. Shift Registers and 7-Segment Display","permalink":"/UNO-R4-Starter-Kit/Shift-Registers-and-Display"}}');var s=i(74848),r=i(28453);const o={sidebar_position:23},l="23. Photocell",d={},a=[{value:"Materials",id:"materials",level:2},{value:"Instructions",id:"instructions",level:2},{value:"Arduino to Shift Register:",id:"arduino-to-shift-register",level:4},{value:"Shift Register to LEDs:",id:"shift-register-to-leds",level:4},{value:"Power Supply:",id:"power-supply",level:4},{value:"Code",id:"code",level:4}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"23-photocell",children:"23. Photocell"})}),"\n",(0,s.jsx)(t.p,{children:"Photocells, also known as photoresistors or light-dependent resistors (LDRs), are simple yet powerful components that can detect changes in light intensity. These components are commonly used in various applications such as automatic lighting systems, light-sensitive alarms, and other projects where light detection is essential."}),"\n",(0,s.jsx)(t.h2,{id:"materials",children:"Materials"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Component"}),(0,s.jsx)(t.th,{children:"Image"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.canadarobotix.com/products/160",children:"Breadboard"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/breadboard.webp",width:"200"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.canadarobotix.com/products/922",children:"Jumper wires"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/jumper-wires.webp",width:"200"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.canadarobotix.com/collections/featured-1/products/3060",children:"Arduino Uno R4 Minima"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/arduino-r4-minima.webp",width:"200"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.canadarobotix.com/products/1138",children:"Photocell"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/photocell.webp",width:"200"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.canadarobotix.com/products/5138",children:"Resistors (220 ohms for the LED, optional if using internal pull-up resistors for buttons)"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/resistors.webp",width:"200"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.canadarobotix.com/products/1282",children:"LED (white, red, blue, or green)"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/LED.jpg",width:"200"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://www.canadarobotix.com/products/848",children:"74HC595 Shift Register"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/74HC595.png",width:"200"})})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"instructions",children:"Instructions"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"Make the following connections using the breadboard and jumper wires."}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"arduino-to-shift-register",children:"Arduino to Shift Register:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"latchPin (pin 11) to ST_CP (pin 12) of the 74HC595."}),"\n",(0,s.jsx)(t.li,{children:"clockPin (pin 9) to SH_CP (pin 11) of the 74HC595."}),"\n",(0,s.jsx)(t.li,{children:"dataPin (pin 12) to DS (pin 14) of the 74HC595."}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"shift-register-to-leds",children:"Shift Register to LEDs:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Connect the output pins (Q0-Q7) of the 74HC595 to the anodes of the LEDs through current-limiting resistors (usually around 220 ohms)."}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"power-supply",children:"Power Supply:"}),"\n",(0,s.jsx)(t.p,{children:"Connect VCC of the 74HC595 to a 5V power source.\nConnect GND of the 74HC595 to the Arduino's GND."}),"\n",(0,s.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/photocell.png",width:"600"}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsx)(t.li,{children:"Paste the following code into your main Arduino sketch:"}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"code",children:"Code"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-cpp",children:"int lightPin = A0;\nint latchPin = 11;\nint clockPin = 9;\nint dataPin = 12;\n\nvoid setup() {\n  Serial.begin(9600);\n  pinMode(latchPin, OUTPUT);\n  pinMode(clockPin, OUTPUT);\n  pinMode(dataPin, OUTPUT);\n}\n\nvoid updateShiftRegister(byte leds) {\n  // take the latchPin low so\n  // the LEDs don't change while you're sending in bits:\n  digitalWrite(latchPin, LOW);\n  // shift out the bits:\n  shiftOut(dataPin, clockPin, MSBFIRST, leds);\n  // take the latch pin high so the LEDs will light up:\n  digitalWrite(latchPin, HIGH);\n}\n\nvoid loop() {\n  int reading = analogRead(lightPin);\n  Serial.println(reading);\n\n  byte ledsLit = 0;\n  // Calculate the number of LEDs to light up based on the reading\n  // and the thresholds for each LED, Calibrate the Sensor here\n  if (reading > 900) ledsLit |= 0b00000001;\n  if (reading > 912) ledsLit |= 0b00000010;\n  if (reading > 924) ledsLit |= 0b00000100;\n  if (reading > 936) ledsLit |= 0b00001000;\n  if (reading > 948) ledsLit |= 0b00010000;\n  if (reading > 960) ledsLit |= 0b00100000;\n  if (reading > 972) ledsLit |= 0b01000000;\n  if (reading > 984) ledsLit |= 0b10000000;\n\n  Serial.print(\"Leds Lit: \");\n  Serial.println(ledsLit, BIN);\n\n  updateShiftRegister(ledsLit);\n  delay(1000);\n}\n"})}),"\n",(0,s.jsxs)(t.ol,{start:"3",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Connect your Arduino to your laptop using a USB-C cable and upload the code to the arduino."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Test! Vary the light environment around the photocell and watch the LEDs turn on and off!"}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Optional: You can calibrate the sensor by changing the threshold values in the If statements!"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Prev"}),(0,s.jsx)(t.th,{children:"Next"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"/UNO-R4-Starter-Kit/Serial-Monitor",children:"22. The Serial Monitor"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"/UNO-R4-Starter-Kit/Shift-Registers-and-Display",children:"24. Shift Registers and 7 Segment Display"})})]})})]})]})}function c(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);