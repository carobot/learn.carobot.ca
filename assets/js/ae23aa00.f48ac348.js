"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1450],{8900:(t,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>a});var n=i(74848),s=i(28453);const r={sidebar_position:23},o="23. Photocell",l={id:"UNO-R4-Starter-Kit/Photocell",title:"23. Photocell",description:"Photocells, also known as photoresistors or light-dependent resistors (LDRs), are simple yet powerful components that can detect changes in light intensity. These components are commonly used in various applications such as automatic lighting systems, light-sensitive alarms, and other projects where light detection is essential.",source:"@site/docs/UNO-R4-Starter-Kit/Photocell.md",sourceDirName:"UNO-R4-Starter-Kit",slug:"/UNO-R4-Starter-Kit/Photocell",permalink:"/UNO-R4-Starter-Kit/Photocell",draft:!1,unlisted:!1,editUrl:"https://github.com/carobot/learn.carobot.ca/tree/main/docs/UNO-R4-Starter-Kit/Photocell.md",tags:[],version:"current",sidebarPosition:23,frontMatter:{sidebar_position:23},sidebar:"tutorialSidebar",previous:{title:"22. The Serial Monitor",permalink:"/UNO-R4-Starter-Kit/Serial-Monitor"},next:{title:"24. Shift Registers and 7-Segment Display",permalink:"/UNO-R4-Starter-Kit/Shift-Registers-and-Display"}},d={},a=[{value:"Materials",id:"materials",level:2},{value:"Instructions",id:"instructions",level:2},{value:"Arduino to Shift Register:",id:"arduino-to-shift-register",level:4},{value:"Shift Register to LEDs:",id:"shift-register-to-leds",level:4},{value:"Power Supply:",id:"power-supply",level:4},{value:"Code",id:"code",level:4}];function h(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{id:"23-photocell",children:"23. Photocell"}),"\n",(0,n.jsx)(e.p,{children:"Photocells, also known as photoresistors or light-dependent resistors (LDRs), are simple yet powerful components that can detect changes in light intensity. These components are commonly used in various applications such as automatic lighting systems, light-sensitive alarms, and other projects where light detection is essential."}),"\n",(0,n.jsx)(e.h2,{id:"materials",children:"Materials"}),"\n",(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:"Component"}),(0,n.jsx)(e.th,{children:"Image"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.a,{href:"https://www.canadarobotix.com/products/160",children:"Breadboard"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/breadboard.webp",width:"200"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.a,{href:"https://www.canadarobotix.com/products/922",children:"Jumper wires"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/jumper-wires.webp",width:"200"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.a,{href:"https://www.canadarobotix.com/collections/featured-1/products/3060",children:"Arduino Uno R4 Minima"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/arduino-r4-minima.webp",width:"200"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.a,{href:"https://www.canadarobotix.com/products/1138",children:"Photocell"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/photocell.webp",width:"200"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.a,{href:"https://www.canadarobotix.com/products/5138",children:"Resistors (220 ohms for the LED, optional if using internal pull-up resistors for buttons)"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/resistors.webp",width:"200"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.a,{href:"https://www.canadarobotix.com/products/1282",children:"LED (white, red, blue, or green)"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/LED.jpg",width:"200"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.a,{href:"https://www.canadarobotix.com/products/848",children:"74HC595 Shift Register"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/74HC595.png",width:"200"})})]})]})]}),"\n",(0,n.jsx)(e.h2,{id:"instructions",children:"Instructions"}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsx)(e.li,{children:"Make the following connections using the breadboard and jumper wires."}),"\n"]}),"\n",(0,n.jsx)(e.h4,{id:"arduino-to-shift-register",children:"Arduino to Shift Register:"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"latchPin (pin 11) to ST_CP (pin 12) of the 74HC595."}),"\n",(0,n.jsx)(e.li,{children:"clockPin (pin 9) to SH_CP (pin 11) of the 74HC595."}),"\n",(0,n.jsx)(e.li,{children:"dataPin (pin 12) to DS (pin 14) of the 74HC595."}),"\n"]}),"\n",(0,n.jsx)(e.h4,{id:"shift-register-to-leds",children:"Shift Register to LEDs:"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"Connect the output pins (Q0-Q7) of the 74HC595 to the anodes of the LEDs through current-limiting resistors (usually around 220 ohms)."}),"\n"]}),"\n",(0,n.jsx)(e.h4,{id:"power-supply",children:"Power Supply:"}),"\n",(0,n.jsx)(e.p,{children:"Connect VCC of the 74HC595 to a 5V power source.\nConnect GND of the 74HC595 to the Arduino's GND."}),"\n",(0,n.jsx)("img",{src:"/img/docs/UNO-R4-Starter-Kit/photocell.png",width:"600"}),"\n",(0,n.jsxs)(e.ol,{start:"2",children:["\n",(0,n.jsx)(e.li,{children:"Paste the following code into your main Arduino sketch:"}),"\n"]}),"\n",(0,n.jsx)(e.h4,{id:"code",children:"Code"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-cpp",children:"int lightPin = A0;\nint latchPin = 11;\nint clockPin = 9;\nint dataPin = 12;\n\nvoid setup() {\n  Serial.begin(9600);\n  pinMode(latchPin, OUTPUT);\n  pinMode(clockPin, OUTPUT);\n  pinMode(dataPin, OUTPUT);\n}\n\nvoid updateShiftRegister(byte leds) {\n  // take the latchPin low so\n  // the LEDs don't change while you're sending in bits:\n  digitalWrite(latchPin, LOW);\n  // shift out the bits:\n  shiftOut(dataPin, clockPin, MSBFIRST, leds);\n  // take the latch pin high so the LEDs will light up:\n  digitalWrite(latchPin, HIGH);\n}\n\nvoid loop() {\n  int reading = analogRead(lightPin);\n  Serial.println(reading);\n\n  byte ledsLit = 0;\n  // Calculate the number of LEDs to light up based on the reading\n  // and the thresholds for each LED, Calibrate the Sensor here\n  if (reading > 900) ledsLit |= 0b00000001;\n  if (reading > 912) ledsLit |= 0b00000010;\n  if (reading > 924) ledsLit |= 0b00000100;\n  if (reading > 936) ledsLit |= 0b00001000;\n  if (reading > 948) ledsLit |= 0b00010000;\n  if (reading > 960) ledsLit |= 0b00100000;\n  if (reading > 972) ledsLit |= 0b01000000;\n  if (reading > 984) ledsLit |= 0b10000000;\n\n  Serial.print(\"Leds Lit: \");\n  Serial.println(ledsLit, BIN);\n\n  updateShiftRegister(ledsLit);\n  delay(1000);\n}\n"})}),"\n",(0,n.jsxs)(e.ol,{start:"3",children:["\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsx)(e.p,{children:"Connect your Arduino to your laptop using a USB-C cable and upload the code to the arduino."}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsx)(e.p,{children:"Test! Vary the light environment around the photocell and watch the LEDs turn on and off!"}),"\n"]}),"\n",(0,n.jsxs)(e.li,{children:["\n",(0,n.jsx)(e.p,{children:"Optional: You can calibrate the sensor by changing the threshold values in the If statements!"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:"Prev"}),(0,n.jsx)(e.th,{children:"Next"})]})}),(0,n.jsx)(e.tbody,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.a,{href:"/UNO-R4-Starter-Kit/Serial-Monitor",children:"22. The Serial Monitor"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.a,{href:"/UNO-R4-Starter-Kit/Shift-Registers-and-Display",children:"24. Shift Registers and 7 Segment Display"})})]})})]})]})}function c(t={}){const{wrapper:e}={...(0,s.R)(),...t.components};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(h,{...t})}):h(t)}},28453:(t,e,i)=>{i.d(e,{R:()=>o,x:()=>l});var n=i(96540);const s={},r=n.createContext(s);function o(t){const e=n.useContext(r);return n.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function l(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:o(t.components),n.createElement(r.Provider,{value:e},t.children)}}}]);